var K=Object.defineProperty;var N=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var w=(r,t,n)=>t in r?K(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,x=(r,t)=>{for(var n in t||(t={}))_.call(t,n)&&w(r,n,t[n]);if(N)for(var n of N(t))I.call(t,n)&&w(r,n,t[n]);return r};import{r as u,j as e,u as B,k as D}from"./main-149.js";import{_ as s,p as T,B as P,e as V,a1 as C,I as E,s as f}from"./bi.738.82.js";import{S as F}from"./bi.384.918.js";import{T as S,t as U}from"./bi.452.742.js";function q({formID:r,customApiConf:t,setCustomApiConf:n,step:b,setStep:j,isLoading:m,setIsLoading:v,setSnackbar:y,redirectLocation:o,isInfo:l}){u.useState(!1);const{customApi:a}=U,h=[{label:"API Key",value:"apikey"},{label:"Bearer Token",value:"bearer"},{label:"Basic Auth",value:"basic"}],c=[{label:"Header",value:"header"},{label:"Query String",value:"query"}],i=d=>{const p=x({},t);p[d.target.name]=d.target.value,n(p)},g=(d,p)=>{const k=P(t);d?k[p]=d:delete k[p],n(x({},k))};function L(d){switch(d){case"apikey":return!t.key||!t.value||!t.apiKeyAddTo;case"bearer":return!t.key||!t.token;case"basic":return!t.username||!t.password;default:return!0}}return e.jsxs("div",{className:"btcd-stp-page",style:{width:b===1&&900,height:b===1&&"1000px"},children:[(a==null?void 0:a.youTubeLink)&&e.jsx(S,{title:a==null?void 0:a.title,youTubeLink:a==null?void 0:a.youTubeLink}),(a==null?void 0:a.docLink)&&e.jsx(S,{title:a==null?void 0:a.title,docLink:a==null?void 0:a.docLink}),e.jsxs("div",{className:"d-flx",children:[e.jsx("div",{className:"wdt-200 d-in-b mt-3",children:e.jsx("b",{children:s("Integration Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:i,name:"name",value:t.name,type:"text",placeholder:s("Integration Name...","bit-integrations"),disabled:l})]}),e.jsx("br",{}),e.jsxs("div",{className:"d-flx",children:[e.jsx("b",{className:"wdt-200 d-in-b mt-3",children:s("Select Auth Protocol: ","bit-integrations")}),e.jsx(T,{defaultValue:t.authType,className:"btcd-paper-drpdwn w-5",singleSelect:!0,options:h,onChange:d=>g(d,"authType")})]}),t.authType==="apikey"&&e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("Key:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-2",onChange:i,name:"key",value:t.key,type:"text",placeholder:s("key","bit-integrations"),disabled:l})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("Value:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-2",onChange:i,name:"value",value:t.value,type:"text",placeholder:s("value","bit-integrations"),disabled:l})]}),e.jsx("b",{className:"wdt-200 d-in-b mt-3",children:s("Add to: ","bit-integrations")}),e.jsx(T,{defaultValue:t.apiKeyAddTo,className:"btcd-paper-drpdwn w-5 mt-2",singleSelect:!0,options:c,onChange:d=>g(d,"apiKeyAddTo")})]}),t.authType==="bearer"&&e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("Key:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-2",onChange:i,name:"key",value:t.key,type:"text",placeholder:s("key","bit-integrations"),disabled:l})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("Token:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-2",onChange:i,name:"token",value:t.token,type:"text",placeholder:s("Token","bit-integrations"),disabled:l})]})]}),t.authType==="basic"&&e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("Key:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-2",onChange:i,name:"key",value:t.key,type:"text",placeholder:s("key","bit-integrations"),disabled:l})]}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("User Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:i,name:"username",value:t.username,type:"text",placeholder:s("User Name...","bit-integrations"),disabled:l}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("password:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:i,name:"password",value:t.password,type:"text",placeholder:s("password...","bit-integrations"),disabled:l})]}),e.jsx("br",{}),e.jsx("div",{style:x({},b===1&&{width:900,height:"auto",overflow:"visible"}),children:e.jsxs("button",{onClick:()=>j(2),disabled:L(t.authType)||m,className:"btn btcd-btn-lg green sh-sm ",type:"button",children:[s("Next","bit-integrations"),e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})})]})}function G({formFields:r,setFlow:t,flow:n,allIntegURL:b}){const j=B(),{formID:m}=D(),[v,y]=u.useState(!1),[o,l]=u.useState(1),[a,h]=u.useState({show:!1}),[c,i]=u.useState({name:"CustomApi",type:"CustomApi",url:"",field_map:[{formField:"",customApiFormField:""}],actions:{}}),g=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),l(3)};return e.jsxs("div",{children:[e.jsx(V,{snack:a,setSnackbar:h}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(F,{step:3,active:o})}),e.jsx(q,{formID:m,customApiConf:c,setCustomApiConf:i,step:o,setStep:l,isLoading:v,setIsLoading:y,setSnackbar:h}),e.jsxs("div",{className:"btcd-stp-page",style:x({},o===2&&{width:900,height:"1000px",overflow:"visible"}),children:[e.jsx(C,{formID:m,formFields:r,customApiConf:c,setCustomApiConf:i,create:!0,step:!0,setStep:!0}),e.jsxs("button",{onClick:()=>g(),className:"btn btcd-btn-lg green sh-sm flx",type:"button",children:[s("Next","bit-integrations"),"Â ",e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.jsx(E,{step:o,saveConfig:()=>f({flow:n,setFlow:t,allIntegURL:b,navigate:j,conf:c,setIsLoading:y,setSnackbar:h}),isLoading:v,dataConf:c,setDataConf:i,formFields:r})]})}export{G as default};
