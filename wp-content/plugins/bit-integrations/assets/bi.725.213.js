import{u as y,k as I,e as f,r as i,d as R,j as t}from"./main-149.js";import{$ as _,h as N,i as k,e as w,_ as l,j as m,E as F,k as v,I as E,X as s,s as S}from"./bi.738.82.js";import{h as u,c as g}from"./bi.265.898.js";import{P as M}from"./bi.419.899.js";function H({allIntegURL:p}){const x=y();I();const[r,T]=f(_),[e,n]=f(N),[j,c]=i.useState(!1),[P,h]=i.useState({}),[b,a]=i.useState({show:!1}),d=R(k),C=()=>{if(!g(e)){a({show:!0,msg:l("Please map mandatory fields","bit-integrations")});return}if(e.actionName==="contact"&&!e.selectedCustomer){s.error("Please select a Customer");return}if(e.actionName==="project"){if(!e.selectedProjectStatus){s.error("Please select Project status");return}if(!e.selectedProjectType){s.error("Please select Project Related With...");return}if(!e.selectedbillingType){s.error("Please select a Billing type");return}if(!e.selectedCustomer){s.error("Please select a Customer");return}if(Number(e.selectedbillingType)===1&&!e.totalRate){s.error("Please select a Total Rate");return}if(Number(e.selectedbillingType)===2&&!e.ratePerHour){s.error("Please select a Rate Per Hour");return}}S({flow:r,allIntegURL:p,conf:e,navigate:x,edit:1,setIsLoading:c,setSnackbar:a})};return t.jsxs("div",{style:{width:900},children:[t.jsx(w,{snack:b,setSnackbar:a}),t.jsxs("div",{className:"flx mt-3",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:l("Integration Name:","bit-integrations")}),t.jsx("input",{className:"btcd-paper-inp w-5",onChange:o=>u(o,e,n),name:"name",value:e.name,type:"text",placeholder:l("Integration Name...","bit-integrations")})]}),t.jsx("br",{}),!m(r.triggered_entity)&&t.jsx(F,{setSnackbar:a}),m(r.triggered_entity)&&t.jsx(v,{setSnackbar:a}),t.jsx(M,{formID:r.triggered_entity_id,formFields:d,handleInput:o=>u(o,e,n),perfexCRMConf:e,setPerfexCRMConf:n,loading:P,setLoading:h,setIsLoading:c,setSnackbar:a}),t.jsx(E,{edit:!0,saveConfig:C,disabled:!g(e),isLoading:j,dataConf:e,setDataConf:n,formFields:d}),t.jsx("br",{})]})}export{H as default};
