import{u as I,k as R,r,j as a}from"./main-149.js";import{a0 as j,e as P,_ as B,I as L,s as T,d as M}from"./bi.738.82.js";import{B as A}from"./bi.150.726.js";import{S as O}from"./bi.384.918.js";import{h as _,c as w}from"./bi.372.795.js";import{S as U}from"./bi.787.796.js";import W from"./bi.340.272.js";import"./bi.653.689.js";import"./bi.96.690.js";import"./bi.452.742.js";function $({formFields:c,setFlow:p,flow:b,allIntegURL:f}){const k=I(),{formID:d}=R(),[s,n]=r.useState(!1),[t,o]=r.useState(1),[m,i]=r.useState({show:!1}),q=[{key:"LastName",label:"Last Name",required:!0},{key:"FirstName",label:"First Name",required:!1},{key:"Email",label:"Email",required:!1},{key:"Salutation",label:"Salutation",required:!1},{key:"OtherStreet",label:"Other Street",required:!1},{key:"OtherCity",label:"Other City",required:!1},{key:"Title",label:"Title",required:!1},{key:"Department",label:"Department",required:!1},{key:"MailingStreet",label:"Mailing Street",required:!1},{key:"MailingCity",label:"Mailing City",required:!1},{key:"MailingCountry",label:"Mailing Country",required:!1}],S=[{key:"LastName",label:"Last Name",required:!0},{key:"Email",label:"Email",required:!0},{key:"Company",label:"Company",required:!0},{key:"FirstName",label:"First Name",required:!1},{key:"City",label:"City",required:!1},{key:"State",label:"State",required:!1},{key:"Salutation",label:"Salutation",required:!1},{key:"Title",label:"Title",required:!1},{key:"URL",label:"URL",required:!1},{key:"Phone",label:"Phone",required:!1},{key:"Mobile",label:"Mobile",required:!1},{key:"Fax",label:"Fax",required:!1},{key:"Street",label:"Street",required:!1},{key:"Zip",label:"Zip",required:!1},{key:"Country",label:"Country",required:!1},{key:"Description",label:"Description",required:!1},{key:"LeadSource",label:"Lead source",required:!1},{key:"Industry",label:"Industry",required:!1},{key:"Rating",label:"Rating",required:!1},{key:"Revenue",label:"Revenue",required:!1},{key:"Employees",label:"Employees",required:!1}],g=[{key:"Name",label:"Account Name",required:!0},{key:"Phone",label:"Phone",required:!1},{key:"BillingStreet",label:"Billing Street",required:!1},{key:"BillingCity",label:"Billing City",required:!1},{key:"BillingState",label:"Billing State",required:!1},{key:"BillingPostalCode",label:"Billing Postal Code",required:!1},{key:"BillingCountry",label:"Billing Country",required:!1},{key:"Type",label:"Account Type",required:!1},{key:"ShippingStreet",label:"Shipping Street",required:!1},{key:"ShippingCity",label:"Shipping City",required:!1},{key:"ShippingState",label:"Shipping State",required:!1},{key:"ShippingPostalCode",label:"Shipping Postal Code",required:!1},{key:"ShippingCountry",label:"Shipping Country",required:!1},{key:"Website",label:"Website",required:!1},{key:"Industry",label:"Industry",required:!1},{key:"NumberOfEmployees",label:"Number Of Employees",required:!1},{key:"Description",label:"Description",required:!1},{key:"Rating",label:"Rating",required:!1},{key:"Site",label:"Site",required:!1},{key:"CleanStatus",label:"Clean Status",required:!1},{key:"NaicsDesc",label:"Naics Desc",required:!1},{key:"SicDesc",label:"Sic Desc",required:!1}],h=[{key:"Name",label:"Name",required:!0},{key:"Type",label:"Type",required:!1},{key:"Description",label:"Description",required:!1},{key:"Status",label:"Status",required:!1},{key:"StartDate",label:"StartDate",required:!1},{key:"EndDate",label:"EndDate",required:!1},{key:"ExpectedRevenue",label:"ExpectedRevenue",required:!1},{key:"BudgetedCost",label:"BudgetedCost",required:!1},{key:"ActualCost",label:"ActualCost",required:!1}],C=[{label:"Planned",value:"Planned"},{label:"Received",value:"Received"},{label:"Responded",value:"Responded"},{label:"Sent",value:"Sent"}],D=[{key:"Name",label:"Name",required:!0},{key:"CloseDate",label:"Close Date",required:!0},{key:"Description",label:"Description",required:!1},{key:"Amount",label:"Amount",required:!1}],N=[{key:"StartDateTime",label:"Start Date",required:!0},{key:"EndDateTime",label:"End Date",required:!0},{key:"Location",label:"Location",required:!1},{key:"Description",label:"Description",required:!1}],v=[{key:"SuppliedName",label:"Name",required:!0},{key:"SuppliedEmail",label:"Email",required:!1},{key:"SuppliedPhone",label:"Phone",required:!1},{key:"SuppliedCompany",label:"Company",required:!1},{key:"Subject",label:"Subject",required:!1},{key:"Description",label:"Description",required:!1}],[e,u]=r.useState({name:"Salesforce",type:"Salesforce",clientId:"",clientSecret:"",field_map:[{formField:"",selesforceField:""}],contactFields:q,leadFields:S,accountFields:g,campaignFields:h,campaignMemberStatus:C,opportunityFields:D,eventFields:N,caseFields:v,actions:{}});r.useEffect(()=>{window.opener&&j("salesforce")},[]);const x=["contact-create","lead-create","account-create","campaign-create","opportunity-create","event-create","case-create"].includes(e==null?void 0:e.actionName),E=l=>{if(x&&!w(e)){M.error("Please map mandatory fields !");return}o(l)},F=()=>{var l,y;if((e==null?void 0:e.actionName)==="opportunity-create")return!((l=e.actions)!=null&&l.opportunityStageId);if((e==null?void 0:e.actionName)==="event-create")return!((y=e.actions)!=null&&y.eventSubjectId);if((e==null?void 0:e.actionName)==="add-campaign-member")return!e.campaignId};return a.jsxs("div",{children:[a.jsx(P,{snack:m,setSnackbar:i}),a.jsx("div",{className:"txt-center mt-2",children:a.jsx(O,{step:3,active:t})}),a.jsx(W,{formID:d,salesforceConf:e,setSalesforceConf:u,step:t,setStep:o,isLoading:s,setIsLoading:n,setSnackbar:i}),a.jsxs("div",{className:"btcd-stp-page",style:{width:t===2&&900,height:t===2&&"auto"},children:[a.jsx(U,{formID:d,formFields:c,handleInput:l=>_(l,e,u),salesforceConf:e,setSalesforceConf:u,isLoading:s,setIsLoading:n,setSnackbar:i}),a.jsxs("button",{onClick:()=>E(3),disabled:F()||s,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[B("Next","bit-integrations"),a.jsx(A,{className:"ml-1 rev-icn"})]})]}),a.jsx(L,{step:t,saveConfig:()=>T({flow:b,setFlow:p,allIntegURL:f,navigate:k,conf:e,setIsLoading:n,setSnackbar:i})})]})}export{$ as default};
