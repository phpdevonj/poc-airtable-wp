var b=(d,m,n)=>new Promise((o,a)=>{var u=i=>{try{c(n.next(i))}catch(s){a(s)}},p=i=>{try{c(n.throw(i))}catch(s){a(s)}},c=i=>i.done?o(i.value):Promise.resolve(i.value).then(u,p);c((n=n.apply(d,m)).next())});import{r as C,j as _}from"./main-149.js";/* empty css          */import{G as j}from"./bi.738.82.js";function T({id:d,value:m,formFields:n,SmartTagField:o,onChangeHandler:a,toolbarMnu:u,menubar:p,height:c,width:i,disabled:s,plugins:v}){const r=`${d}-settings`,f="https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11",[g,x]=C.useState(typeof window.tinymce!="undefined"),k=g&&window.tinymce.baseURI.source===f,$=()=>b(this,null,function*(){(yield j({src:f+"/tinymce.min.js",integrity:"sha256-SnRzknLClR3GaNw9oN4offMGFiPbXQTP7q0yFLPPwgY=",id:"tinymceCDN"}))||console.warn("Is your internet working properly to load script?");const t=setInterval(()=>{typeof window.tinymce!="undefined"&&(clearInterval(t),x(!0))},100)});C.useEffect(()=>(g||$(),E(),()=>{var t;const e=((t=window.tinymce)==null?void 0:t.get(r))||null;e&&e.remove()}),[g]);const I=e=>e.type==="signature"?`<img width="250" src="\${${e.name}}" alt="${e.name}" />`:`\${${e.name}}`,E=()=>{window&&window.tinymce&&window.tinymce.init({selector:`textarea#${r}`,menubar:p,height:c||150,width:i||"100%",branding:!1,resize:"verticle",convert_urls:!1,theme:"modern",plugins:v||`directionality fullscreen image link media charmap hr lists textcolor colorpicker ${k?"":"wordpress"}`,toolbar:u||"formatselect | fontsizeselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat toogleCode wp_code | addFormField | addSmartField",image_advtab:!0,default_link_target:"_blank",setup(e){e.on("Paste Change input Undo Redo",()=>{a(e.getContent())}),n&&e.addButton("addFormField",{text:"Form Fields ",tooltip:"Add Form Field Value in Message",type:"menubutton",icon:!1,menu:n==null?void 0:n.map(t=>!t.type.match(/^(file-up|recaptcha|section|divider|image|advanced-file-up|)$/)&&{text:t.name,onClick(){e.insertContent(I(t))}})}),o&&e.addButton("addSmartField",{text:"Smart Tag Fields",tooltip:"Add Smart Tag Field Value in Message",type:"menubutton",icon:!1,menu:o==null?void 0:o.map(t=>({text:t.label,onClick(){e.insertContent(`\${${t.name}}`)}}))}),e.addButton("toogleCode",{text:"</>",tooltip:"Toggle preview",icon:!1,onclick(t){const{$:y}=t.control,l=y(`#${r}`),w=y(e.iframeElement);if(l.value=e.getContent({source_view:!0}),w.toggleClass("btcd-mce-tinymce-hidden"),l.toggleClass("btcd-mce-tinymce-visible"),console.log("clicked",l,w),y("iframe.btcd-mce-tinymce-hidden").length>0)l.prependTo(".mce-edit-area");else{const h=document.getElementById(r);h instanceof HTMLTextAreaElement&&e.setContent(h.value)}}})}})};return _.jsx("textarea",{id:r,className:"btcd-paper-inp mt-1 w-10",rows:5,value:m,onChange:e=>a(e.target.value),style:{width:"95.5%",height:"auto"},disabled:s})}export{T};
