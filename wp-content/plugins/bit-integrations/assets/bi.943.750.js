var y=Object.defineProperty;var b=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var m=(e,r,a)=>r in e?y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,c=(e,r)=>{for(var a in r||(r={}))g.call(r,a)&&m(e,a,r[a]);if(b)for(var a of b(r))p.call(r,a)&&m(e,a,r[a]);return e};import{_ as i,c as u,d as n}from"./bi.738.82.js";const v=(e,r,a)=>{const l=c({},r),{name:d}=e.target;e.target.value!==""?l[d]=e.target.value:delete l[d],a(c({},l))},F=(e,r,a)=>{a(!0);const l={baseUrl:e.baseUrl,apiKey:e.apiKey},d=u(null,"wishlist_get_all_levels",l,"GET").then(s=>{if(s&&s.success){const t=c({},e);return t.default||(t.default={}),s.data.levellists&&(t.default.levellists=s.data.levellists),r(c({},t)),a(!1),"Levels refreshed successfully"}else return a(!1),"Levels refresh failed. please try again"});n.promise(d,{success:s=>s,error:i("Error Occurred","bit-integrations"),loading:i("Loading Levels...")})},K=(e,r,a)=>{a(!0);const l={baseUrl:e.baseUrl,apiKey:e.apiKey},d=u(null,"wishlist_get_all_members",l,"GET").then(s=>{if(s&&s.success){const t=c({},e);return t.default||(t.default={}),s.data.memberlists&&(t.default.memberlists=s.data.memberlists),r(c({},t)),a(!1),"Members refreshed successfully"}else return a(!1),"Members refresh failed. please try again"});n.promise(d,{success:s=>s,error:i("Error Occurred","bit-integrations"),loading:i("Loading Members...")})},U=e=>{const r=(e==null?void 0:e.actionName)==="level-member"?e==null?void 0:e.memberFields:(e==null?void 0:e.levelFields)||[],a=r==null?void 0:r.filter(l=>l.required===!0);return a.length>0?a.map(l=>({formField:"",wishlistField:l.key})):[{formField:"",wishlistField:""}]},A=e=>!((e!=null&&e.field_map?e.field_map.filter(a=>!a.formField||!a.wishlistField||!a.formField==="custom"&&!a.customValue):[]).length>0),M=(e,r,a,l,d)=>{if(!e.baseUrl||!e.apiKey){a({baseUrl:e.baseUrl?"":i("Base URL can't be empty","bit-integrations"),apiKey:e.apiKey?"":i("API Key can't be empty","bit-integrations")});return}a({}),d(!0);const s={baseUrl:e.baseUrl,apiKey:e.apiKey};u(s,"wishlist_authorization").then(t=>t).then(t=>{if(t&&t.success){const o=c({},e);o.tokenDetails=t.data,r(o),l(!0),n.success(i("Authorized Successfully","bit-integrations"))}else t&&t.data&&t.data.data||!t.success&&typeof t.data=="string"?n.error(`${i("Authorization failed Cause:","bit-integrations")}${t.data.data||t.data}. ${i("please try again","bit-integrations")}`):n.error(i("Authorization failed. please try again","bit-integrations"));d(!1)})};export{F as a,K as b,A as c,M as d,U as g,v as h};
