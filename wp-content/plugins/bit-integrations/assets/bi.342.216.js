import{u as _,k,e as m,r as o,d as w,j as t}from"./main-149.js";import{$ as C,h as F,i as P,e as v,_ as r,j as g,E as y,k as E,I as N,X as l,s as L}from"./bi.738.82.js";import{h as p,c as u}from"./bi.268.902.js";import{S as $}from"./bi.326.903.js";function T({allIntegURL:x}){const h=_();k();const[a,A]=m(C),[e,n]=m(F),[d,c]=o.useState(!1),[j,b]=o.useState({}),[I,s]=o.useState({show:!1}),f=w(P),S=()=>{if(!u(e)){s({show:!0,msg:r("Please map mandatory fields","bit-integrations")});return}if(e.actionName==="opportunities"){if(!e.selectedAccount){l.error("Please select an Account");return}if(!e.selectedPipeline){l.error("Please select a Pipeline");return}if(e.selectedPipeline&&!e.selectedStage){l.error("Please select a Stage");return}}L({flow:a,allIntegURL:x,conf:e,navigate:h,edit:1,setIsLoading:c,setSnackbar:s})};return t.jsxs("div",{style:{width:900},children:[t.jsx(v,{snack:I,setSnackbar:s}),t.jsxs("div",{className:"flx mt-3",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:r("Integration Name:","bit-integrations")}),t.jsx("input",{className:"btcd-paper-inp w-5",onChange:i=>p(i,e,n),name:"name",value:e.name,type:"text",placeholder:r("Integration Name...","bit-integrations")})]}),t.jsx("br",{}),!g(a.triggered_entity)&&t.jsx(y,{setSnackbar:s}),g(a.triggered_entity)&&t.jsx(E,{setSnackbar:s}),t.jsx($,{formID:a.triggered_entity_id,formFields:f,handleInput:i=>p(i,e,n),salesflareConf:e,setSalesflareConf:n,loading:j,setLoading:b,isLoading:d,setIsLoading:c,setSnackbar:s}),t.jsx(N,{edit:!0,saveConfig:S,disabled:!u(e),isLoading:d,dataConf:e,setDataConf:n,formFields:f}),t.jsx("br",{})]})}export{T as default};
