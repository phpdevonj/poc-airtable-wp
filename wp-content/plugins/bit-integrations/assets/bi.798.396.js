var D=Object.defineProperty;var I=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var T=(i,s,n)=>s in i?D(i,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[s]=n,f=(i,s)=>{for(var n in s||(s={}))L.call(s,n)&&T(i,n,s[n]);if(I)for(var n of I(s))z.call(s,n)&&T(i,n,s[n]);return i};import{r as d,j as e,u as C,k as A}from"./main-149.js";import{_ as a,L as B,e as W,I as E,s as P}from"./bi.738.82.js";import{S as _}from"./bi.384.918.js";import{B as F}from"./bi.150.726.js";import{a as M,W as q,h as R,c as w}from"./bi.34.784.js";import{T as S,t as G}from"./bi.452.742.js";import"./bi.21.729.js";/* empty css          */import"./bi.653.689.js";import"./bi.96.690.js";function H({formID:i,whatsAppConf:s,setWhatsAppConf:n,step:h,setstep:k,isLoading:j,setIsLoading:m,setSnackbar:u,redirectLocation:b,isInfo:o}){const[p,r]=d.useState(!1),[g,v]=d.useState({dataCenter:"",clientId:""}),{whatsApp:t}=G,c=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),k(2)},l=x=>{const N=f({},s),y=f({},g);y[x.target.name]="",N[x.target.name]=x.target.value,v(y),n(N)};return e.jsxs("div",{className:"btcd-stp-page",style:{width:h===1&&900,height:h===1&&"auto"},children:[(t==null?void 0:t.youTubeLink)&&e.jsx(S,{title:t==null?void 0:t.title,youTubeLink:t==null?void 0:t.youTubeLink}),(t==null?void 0:t.docLink)&&e.jsx(S,{title:t==null?void 0:t.title,docLink:t==null?void 0:t.docLink}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:a("Integration Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"name",value:s.name,type:"text",placeholder:a("Integration Name...","bit-integrations"),disabled:o}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:a("Phone number ID:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"numberID",value:s.numberID,type:"text",placeholder:a("Number ID...","bit-integrations"),disabled:o}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:a("WhatsApp Business Account ID:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"businessAccountID",value:s.businessAccountID,type:"text",placeholder:a("Business Account ID...","bit-integrations"),disabled:o}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:a("Access Token:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"token",value:s.token,type:"text",placeholder:a("Access Token...","bit-integrations"),disabled:o}),e.jsx("div",{style:{color:"red",fontSize:"15px"},children:g.clientId}),e.jsx("div",{style:{color:"red",fontSize:"15px"},children:g.clientSecret}),!o&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>M(s,n,v,r,m,u),className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:p||j,children:[p?a("Authorized ✔","bit-integrations"):a("Authorize","bit-integrations"),j&&e.jsx(B,{size:20,clr:"#022217",className:"ml-2"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:c,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!p,children:[a("Next","bit-integrations"),e.jsx(F,{className:"ml-1 rev-icn"})]})]})]})}function te({formFields:i,setFlow:s,flow:n,allIntegURL:h}){const k=C(),{formID:j}=A(),[m,u]=d.useState(!1),[b,o]=d.useState(1),[p,r]=d.useState({show:!1}),g=[{key:"phone",label:"Phone",required:!0}],v=[{id:"2",label:"Template"}],[t,c]=d.useState({name:"WhatsApp",type:"WhatsApp",numberID:"",businessAccountID:"",messageType:v,messageTypeId:"",body:"",templateName:"",token:"",field_map:[{formField:"",whatsAppFormField:""}],whatsAppFields:g,address_field:[],actions:{}}),l=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),w(t)){r({show:!0,msg:"Please map fields to continue."});return}o(3)},x=t.messageTypeId==="1"?t.body==="":t.templateName==="";return e.jsxs("div",{children:[e.jsx(W,{snack:p,setSnackbar:r}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(_,{step:3,active:b})}),e.jsx(H,{formID:j,whatsAppConf:t,setWhatsAppConf:c,step:b,setstep:o,isLoading:m,setIsLoading:u,setSnackbar:r}),e.jsxs("div",{className:"btcd-stp-page",style:f({},b===2&&{width:900,height:"auto",overflow:"visible"}),children:[e.jsx(q,{formFields:i,handleInput:N=>R(N,t,c),whatsAppConf:t,setWhatsAppConf:c,isLoading:m,setIsLoading:u,setSnackbar:r}),e.jsxs("button",{onClick:()=>l(),disabled:x,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[a("Next","bit-integrations")," "," ",e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.jsx(E,{step:b,saveConfig:()=>P({flow:n,setFlow:s,allIntegURL:h,navigate:k,conf:t,setIsLoading:u,setSnackbar:r}),isLoading:m,dataConf:t,setDataConf:c,formFields:i})]})}export{te as default};
