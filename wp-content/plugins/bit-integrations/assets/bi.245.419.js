var v=Object.defineProperty;var f=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var u=(o,s,t)=>s in o?v(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t,x=(o,s)=>{for(var t in s||(s={}))j.call(s,t)&&u(o,t,s[t]);if(f)for(var t of f(s))S.call(s,t)&&u(o,t,s[t]);return o};import{u as k,k as P,r as a,j as e}from"./main-149.js";import{e as w,_ as I,I as N,s as _}from"./bi.738.82.js";import{S as y}from"./bi.384.918.js";import{s as F}from"./bi.270.713.js";import L from"./bi.670.288.js";import{c as E}from"./bi.625.827.js";import{P as A}from"./bi.186.828.js";import"./bi.452.742.js";function J({formFields:o,setFlow:s,flow:t,allIntegURL:g}){const C=k(),{flowID:c}=P(),[d,l]=a.useState(!1),[n,p]=a.useState(1),[b,r]=a.useState({show:!1}),[i,m]=a.useState({name:"PCloud",type:"PCloud",clientId:"",clientSecret:"",field_map:[{formField:"",pCloudFormField:""}],foldersList:[],actions:{}});a.useEffect(()=>{window.opener&&F("pCloud")},[]);const h=()=>{_({flow:t,setFlow:s,allIntegURL:g,conf:i,navigate:C,setIsLoading:l,setSnackbar:r})};return e.jsxs("div",{children:[e.jsx(w,{snack:b,setSnackbar:r}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(y,{step:3,active:n})}),e.jsx(L,{flowID:c,pCloudConf:i,setPCloudConf:m,step:n,setStep:p,isLoading:d,setIsLoading:l,setSnackbar:r}),e.jsxs("div",{className:"btcd-stp-page",style:x({},n===2&&{width:900,height:"auto",overflow:"visible"}),children:[e.jsx(A,{flowID:c,formFields:o,pCloudConf:i,setPCloudConf:m}),e.jsxs("button",{onClick:()=>p(3),disabled:!E(i),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[I("Next","bit-integrations")," ",e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.jsx(N,{step:n,saveConfig:()=>h(),isLoading:d})]})}export{J as default};
