import{u as w,k,e as u,r as d,d as C,j as t}from"./main-149.js";import{h as F,$ as S,i as v,e as y,_ as a,j as g,E,k as D,I as N,s as P}from"./bi.738.82.js";import{h as f,c as R,a as $}from"./bi.7.852.js";import{F as L}from"./bi.275.853.js";import"./bi.653.689.js";import"./bi.96.690.js";function B({allIntegURL:h}){const p=w(),{id:x}=k(),[e,n]=u(F),[o,b]=u(S),[l,i]=d.useState(!1),[j,s]=d.useState({show:!1}),[r,I]=d.useState(0),m=C(v),_=()=>{if(!R(e)){s({show:!0,msg:a("Please map mandatory fields","bit-integrations")});return}if(!$(e)){["Deal","Contact"].includes(e.moduleData.module)&&s({show:!0,msg:a("Please select a account or a contact","bit-integrations")}),e.moduleData.module==="Contacts"&&s({show:!0,msg:a("Please select a account","bit-integrations")});return}P({flow:o,setFlow:b,allIntegURL:h,conf:e,navigate:p,id:x,edit:1,setIsLoading:i,setSnackbar:s})};return t.jsxs("div",{style:{width:900},children:[t.jsx(y,{snack:j,setSnackbar:s}),t.jsxs("div",{className:"flx mt-3",children:[t.jsx("b",{className:"wdt-200 ",children:a("Integration Name:","bit-integrations")}),t.jsx("input",{className:"btcd-paper-inp w-5",onChange:c=>f(c,r,e,n),name:"name",value:e.name,type:"text",placeholder:a("Integration Name...","bit-integrations")})]}),t.jsx("br",{}),!g(o.triggered_entity)&&t.jsx(E,{setSnackbar:s}),g(o.triggered_entity)&&t.jsx(D,{setSnackbar:s}),t.jsx(L,{tab:r,settab:I,formID:o.triggered_entity_id,formFields:m,handleInput:c=>f(c,r,e,n,i,s),freshSalesConf:e,setFreshSalesConf:n,isLoading:l,setIsLoading:i,setSnackbar:s}),t.jsx(N,{edit:!0,saveConfig:_,disabled:e.moduleData.module===""||e.field_map.length<1,isLoading:l,dataConf:e,setDataConf:n,formFields:m}),t.jsx("br",{})]})}export{B as default};
